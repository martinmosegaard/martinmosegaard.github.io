<meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Lettal</title><meta content="Lettalsberegner. Beregn lettal (læseegnethedstal)."name=description><meta content=index,follow name=robots><meta content=index,follow name=googlebot><script>var LettalWordChooser={chooseWords:function(e,t){const r=LettalText.getSentencesFrom(e),o=LettalText.getNumberOfWordsFrom(r),n=o-t;if(n<=0)return console.log("Found "+o+" words which is not more than "+t+" words to select"),e;const s=~~(n/2),l=n-s;for(var a=e,c=0;c<s;)a=LettalWordChooser.removeWordFromStart(a),c++;for(var u=0;u<l;)a=LettalWordChooser.removeWordFromEnd(a),u++;return a.trim()},removeWordFromStart:function(e){const t=e.split(/[\s\n.!\?]/).filter(LettalWordChooser.filterEmpty)[0];return e.trim().substring(t.length+1).trimLeft()},removeWordFromEnd:function(e){const t=e.split(/[\s\n.!\?]/).filter(LettalWordChooser.filterEmpty),r=t[t.length-1];return e.trim().substring(0,e.length-r.length-1).trimRight()},filterEmpty:function(e){return""!=e.trim()}},LettalScore={scoreNumberOfWordsInBook:function(e){return e>140?4:e>95?3:e>50?2:1},scoreNumberOfWordsWithAtLeastSevenLetters:function(e){return e>7?4:e>4?3:e>1?2:1},scoreNumberOfWordsInLongestSentence:function(e){return e>12?4:e>10?3:e>7?2:1},scoreSyntacticalFeatures:function(e,t,r,o){var n=0;return e&&n++,t&&n++,r&&n++,o&&n++,n>2?4:n>1?3:n>0?2:1},scoreNumberOfPagesInBook:function(e){return e>24?4:e>16?3:e>8?2:1}},LettalText={removeEmptyWords:function(e){const t=[];return e.forEach(e=>{e.length>0&&t.push(e)}),t},splitNumericWords:function(e){const t=[];return e.forEach(e=>{if(e.includes("-")){const n=e.split("-");var r=!0,o=!0;n.forEach(e=>{isNaN(e)?LettalText.isNumberAsText(e)?(t.push(e),r=!1):o=!1:(t.push(e),r=!1)}),o&&t.push("til"),r&&t.push(e)}else t.push(e)}),t},getWordsFrom:function(e){const t=e.split(/[\s]/);return LettalText.splitNumericWords(LettalText.removeEmptyWords(t))},getWordsFromWithDashSplit:function(e){const t=e.split(/[\s-]/);return LettalText.removeEmptyWords(t)},getNumberOfWordsFrom:function(e){var t=0;return e.forEach(e=>{words=LettalText.getWordsFrom(e),t+=words.length}),t},normalizeLongWord:function(e){return e=(e=e.toLowerCase()).replace(/['"’:,]+/g,"")},isAbbreviation:function(e){var t=!1;return["kg"].forEach(r=>{e!=r||(t=!0)}),t},isLongNumber:function(e){var t=!1;return["30","50","70","90","100","200","300","400","500","600","700","800","900","1000"].forEach(r=>{e!=r||(t=!0)}),t},isNumberAsText:function(e){var t=!1;return["en","et","to","tre","fire","fem","seks","syv","otte","ni","ti"].forEach(r=>{e!=r||(t=!0)}),t},hasSevenLettersOrMore:function(e){return e.length>6||(!!LettalText.isAbbreviation(e)||!!LettalText.isLongNumber(e))},getWordsWithAtLeastSevenLettersFrom:function(e){var t=[];return e.forEach(e=>{words=LettalText.getWordsFrom(e),words.forEach(e=>{e=LettalText.normalizeLongWord(e),LettalText.hasSevenLettersOrMore(e)&&(t.includes(e)?console.log('The long word "'+e+'" is already seen'):(console.log('"'+e+'" has 7 letters or more ('+e.length+")"),t.push(e)))})}),console.log("Number of words with 7 letters or more: "+t.length),t},getLongestSentence:function(e){var t=0,r="";return e.forEach(e=>{words=LettalText.getWordsFrom(e),words.length>t&&(console.log('Sentence: "'+e+'" has new max number of words: '+words.length),t=words.length,r=e)}),r},getSentencesFrom:function(e){return e.split(/[\n.!\?]/)}};function chooseWords(){const e=document.getElementById("text").value,t=document.getElementById("numberOfWordsSelect").value,r=LettalWordChooser.chooseWords(e,t);document.getElementById("text").value=r}function updateScoreLabel(e,t,r,o){document.getElementById(e).innerHTML=o+" point for "+t+(r>=0?" ("+r+" ord)":"")}function calculate(){const e=document.getElementById("text").value,t=LettalText.getSentencesFrom(e),r=LettalText.getNumberOfWordsFrom(t),o=LettalText.getWordsWithAtLeastSevenLettersFrom(t),n=o.length,s=LettalText.getLongestSentence(t),l=LettalText.getWordsFrom(s).length,a=document.getElementById("hasAbbreviations").checked,c=document.getElementById("hasNegations").checked,u=document.getElementById("hasPastTemporal").checked,d=document.getElementById("hasGrammaticTimeChange").checked,i=document.getElementById("numberOfPagesInBook").value,m=LettalScore.scoreNumberOfWordsInBook(r),g=LettalScore.scoreNumberOfWordsWithAtLeastSevenLetters(n),L=LettalScore.scoreNumberOfWordsInLongestSentence(l),f=LettalScore.scoreSyntacticalFeatures(a,c,u,d),h=LettalScore.scoreNumberOfPagesInBook(i),W=m+g+L+f+h;document.getElementById("resultLabel").innerHTML=W,updateScoreLabel("numberOfWordsInBookResultLabel","ord i bogen",r,m),updateScoreLabel("numberOfWordsWithAtLeastSevenLettersResultLabel","ord på 7 bogstaver eller mere",n,g),updateScoreLabel("numberOfWordsInLongestSentenceResultLabel","ord i længste sætning",l,L),updateScoreLabel("syntacticFeaturesResultLabel","syntaktiske træk",-1,f),updateScoreLabel("numberOfPagesInBookResultLabel","antal sider i bogen",-1,h),document.getElementById("longWordsResultLabel").innerHTML=o.join(" "),document.getElementById("longestSentenceResultLabel").innerHTML=s}function markLongWords(){alert("mangler!")}</script><style>body{font-family:'Segoe UI',sans-serif;font-size:1rem;line-height:1.6;height:90%}.page{display:block;width:1200px;min-height:800px;overflow:auto;margin:0 auto 0 auto;box-sizing:border-box}.pageHeader{background-color:#69d2f7;float:left;clear:none;min-height:50px;width:100%;box-sizing:border-box;padding:5px}.pageContent{background-color:#fff;float:left;clear:none;min-height:600px;width:800px;box-sizing:border-box;padding:10px}.pageRightPanel{background-color:#fff;float:right;clear:none;min-height:600px;width:400px;box-sizing:border-box;padding:10px}.pageFooter{background-color:#69d2f7;float:left;clear:none;min-height:50px;width:100%;text-align:center;box-sizing:border-box;padding:10px}textarea{resize:none}.form-input{background:#fff;border:1px solid #eee;padding:12px;width:100%}.form-group{margin-bottom:1rem}.form-button{background:#69d2e7;border:1px solid #ddd;color:#fff;padding:10px;width:100%;text-transform:uppercase}.form-button:hover{background:#69c8e7}.result-label{font-size:4rem}</style><div class=page><div class=pageHeader><h1>Lettal</h1></div><div class=pageContent>Indsæt tekst her:<br>Bemærk at forkortelsespunktummer skal slettes inden beregning, da sætningslængden ellers ikke vil kunne beregnes korrekt.<br>Brug ikke linjeskift midt i en sætning.<br>Ord i talebobler tæller kun med, hvis de bedømmes at være en del af teksten, og hvis de ikke er skrevet med store bogstaver.<br><textarea class=form-input cols=80 id=text rows=20></textarea> <label id=chooseNumberOfWordsLabel>Vælg antal ord:</label> <select id=numberOfWordsSelect><option value=141>141<option value=150>150<option value=160>160<option value=170>170</select> <button class=form-button id=chooseNumberOfWordsButton onclick=chooseWords()>Vælg ord</button><p>Syntaktiske træk:<br><input id=hasAbbreviations type=checkbox> Forkortelser fx, osv., mm.<br><input id=hasNegations type=checkbox> Negationer fx IKKE, INTET, INGEN<br><input id=hasPastTemporal type=checkbox> Før nutid (Har spist) eller før datid (Havde cyklet)<br><input id=hasGrammaticTimeChange type=checkbox> Der ændres grammatisk tid i samme sætning fx “Jeg er vred”, sagde pigen.<p>Antal sider i bogen: <input id=numberOfPagesInBook type=number class=form-input min=0><p><button class=form-button id=calculate onclick=calculate() type=submit>Beregn lettal</button></div><div class=pageRightPanel><div class=form-group><label id=resultLabel class=result-label></label><details><summary>Vis detaljer</summary><p><label id=numberOfWordsInBookResultLabel><p><label id=numberOfWordsWithAtLeastSevenLettersResultLabel><details><summary>Vis lange ord</summary><p><label id=longWordsResultLabel></details><p><label id=numberOfWordsInLongestSentenceResultLabel><details><summary>Vis den længste sætning</summary><p><label id=longestSentenceResultLabel></details><p><label id=syntacticFeaturesResultLabel><p><label id=numberOfPagesInBookResultLabel></details></div></div><div class=pageFooter><div class=form-group id=version-div>Version: 3609b86<br>Har du feedback til lettalsberegneren, kan du sende en mail til:<br><a href=mailto:evaamdisen@hotmail.com>evaamdisen@hotmail.com</a></div><div class=form-group id=version-div></div></div>
